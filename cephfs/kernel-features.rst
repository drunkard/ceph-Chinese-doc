内核驱动支持的功能
==================

内核驱动是在 Ceph 核心代码之外独立开发的，正因为这样，在功能实现方面它有时候\
和 FUSE 驱动不一样。下面详细描述了各种 CephFS 功能在内核驱动的实现状态。

内联数据
--------
.. Inline data

内联数据是在 Firefly 版引进的。这个功能在 CephFS 主线上已经废弃了，
而且以后的内核版本上可能彻底删除。

Linux 内核客户端 >= 3.19 时，在修改文件数据时，它会读出内联数据并把已有的\
内联数据转换成 RADOS 对象。当前， Linux 内核客户端不会把文件数据存储为内联数据。

详情见 `实验性功能`_ 。

配额
----
.. Quotas

配额功能在 hammer 版首次引进，配额的磁盘格式在 Mimic 版更新了。 >= 4.17 的
Linux 内核客户端可以支持新格式的配额。当前，没有 Linux 内核客户端支持旧格式的配额。

详情见 `配额`_ 。

单个 Ceph 集群内多个文件系统
----------------------------
.. Multiple file systems within a Ceph cluster

此功能在 Jewel 版引进了。 >= 4.7 的 Linux 内核客户端能支持。

详情见 `实验性功能`_ 。

多活元数据服务器
----------------
.. Multiple active metadata servers

此功能从 Luminous 版起就支持了。有多活 MDS 时建议用 >= 4.14 的 Linux 内核客户端。

快照
----
.. Snapshots

此功能从 Mimic 版起就支持了。使用快照功能时建议用 >= 4.17 的 Linux 内核客户端。

.. _实验性功能: ../experimental-features
.. _配额: ../quota
